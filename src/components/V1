import './App.css'
import { AnimatePresence } from 'framer-motion';
import { Hero } from './Hero'; // Asegúrate de tenerlo listo
import { SplashScreen } from './SplashScreen';
import { VideoIntro } from './VideoIntro'; // El nuevo componente
import { useState } from 'react';
import Test from './Test';


function App() {
  // Cambiamos el booleano por un string para manejar las 3 fases
  const [phase, setPhase] = useState('video'); // fases: 'video', 'splash', 'ready'

  return (
    <>
      <div className="min-h-screen bg-sofia-pink-light">
        <AnimatePresence mode="wait">
          {/* FASE 1: Video de introducción */}
          {phase === 'video' && (
            <VideoIntro
              key="video-step"
              onVideoEnd={() => setPhase('splash')}
            />
          )}

          {/* FASE 2: Splash Screen con corazones y loader */}
          {phase === 'splash' && (
            <SplashScreen
              key="splash-step"
              finishLoading={() => setPhase('ready')}
            />
          )}
        </AnimatePresence>

        {/* FASE 3: Contenido principal de la invitación */}
        {phase === 'ready' && (
          
          <motion.main
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 1 }}
          >
            <Test />
          </motion.main>
        )}
        <Hero />
      </div>
    </>
  )
}

export default App